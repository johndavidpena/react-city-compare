(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(48)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=(a(23),a(24),a(14)),s=a(11),l=a(12),u=a(15),d=a(13),h=a(16),m=(a(25),a(26),a(3)),p=a.n(m),w="77e577e4c9e13e85b8e39f71194aea31";var y=function(e){return"".concat("https","://api.openweathermap.org/data/2.5/forecast?&lang=en&units=imperial&appid=").concat(w,"&lat=").concat(e.latitude,"&lon=").concat(e.longitude)};var g=function(e){var t=function(e){return Math.round(e)};return{cityName:e.data.city.name,population:e.data.city.population,weatherStatusDescription:e.data.list[0].weather[0].description,weatherId:e.data.list[0].weather[0].id,weatherDate:function(e){var t=function(e){var t=new Date(e);return{date:t.getUTCDate(),month:t.getUTCMonth(),year:t.getUTCFullYear()}}(1e3*e),a=function(e){var t=null;switch(e){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December"}return t}(t.month);return"".concat(a," ").concat(t.date,", ").concat(t.year)}(e.data.list[0].dt),weatherTemp:t(e.data.list[0].main.temp),weatherHumidity:t(e.data.list[0].main.humidity),weatherWindSpeed:e.data.list[0].wind.speed,weatherWindDirection:function(e){var t=null,a=e;switch(a){case 0:case 360:t="up";break;case 90:t="left";break;case 180:t="down";break;case 270:t="left";break;default:a>0&&a<90&&(t="up-right"),a>90&&a<180&&(t="down-right"),a>180&&a<270&&(t="down-left"),a>270&&a<360&&(t="up-left")}return t}(e.data.list[0].wind.deg)}},f=function(e){console.log("handleFocus called"),e.currentTarget.select()},v=(a(46),function(e){var t=e.image,a={backgroundImage:"url('".concat(t,"')"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 60%"};return r.a.createElement("div",{className:"Unsplash__image",style:a})}),E=function(e){return console.log("[Unsplash] ",e),r.a.createElement("div",{className:"Unsplash"},r.a.createElement(v,{key:"test",image:e.pics[3].urls.regular}))},b=(a(47),function(e){return r.a.createElement("div",{className:"Weather"},r.a.createElement("div",{className:"Weather__description"},r.a.createElement("p",null,e.weatherTemp,"\xb0"),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"wi wi-owm-".concat(e.weatherId)})),r.a.createElement("p",null,e.weatherStatusDescription)),r.a.createElement("div",{className:"Weather__misc"},r.a.createElement("p",null,"Humidity: ",e.weatherHumidity,"%"),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"wi wi-direction-".concat(e.weatherWindDirection)})),r.a.createElement("p",null,"Wind: ",e.weatherWindSpeed," mph")))}),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).findCurrentLocation=function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(e){var t=y(e.coords);a.getCityInfo(t)}):a.setState({error:"Error in [City.jsx] at findCurrentLocation - geolocation not found."})},a.searchHandler=function(){var e=document.getElementById("searchInput"),t=new window.google.maps.places.Autocomplete(e,{types:["(cities)"]});window.google.maps.event.addListener(t,"place_changed",function(){var e=t.getPlace(),n=e.geometry.location.lat(),r=e.geometry.location.lng(),i=y({latitude:n,longitude:r});a.getCityInfo(i)})},a.state={key:e.key,error:null,cityName:null,population:null,weatherStatusDescription:null,weatherId:null,weatherDate:null,weatherTemp:null,weatherHumidity:null,weatherWindSpeed:null,weatherWindDirection:null,unsplashPics:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderLoading",value:function(){return r.a.createElement("div",{className:"City__loading"},"Loading...")}},{key:"renderPicsLoading",value:function(){return r.a.createElement("div",{className:"City__loading"},"Loading pics..")}},{key:"getUnsplashPics",value:function(e){var t=this;p.a.get("https://api.unsplash.com/search/photos?query=".concat(e,"&per_page=50&client_id=").concat("11f2ff5a50fcce4df43aa4c897d132d3f5ad4a84ed0aec7be67718deb5120192")).then(function(e){if(console.log("[City] getUnsplashPics(), res is ",e),0!==e.data.total){var a=Object(o.a)(e.data.results);console.log("[City] picsArray is ",a),t.setState({unsplashPics:a})}else console.log("[City] getUnsplashPics() did not find any results for that location")}).catch(function(e){t.setState({error:"Error from getUnsplashPics ",err:e})})}},{key:"getCityInfo",value:function(e){var t=this;p.a.get(e).then(function(e){var a=g(e);t.setState({cityName:a.cityName,population:a.population,weatherStatusDescription:a.weatherStatusDescription,weatherId:a.weatherId,weatherDate:a.weatherDate,weatherTemp:a.weatherTemp,weatherHumidity:a.weatherHumidity,weatherWindSpeed:a.weatherWindSpeed,weatherWindDirection:a.weatherWindDirection})}).then(function(){console.log(t.state.cityName),t.getUnsplashPics(t.state.cityName)}).catch(function(e){t.setState({loading:!1,error:"Error from getCityInfo",err:e})})}},{key:"render",value:function(){return r.a.createElement("section",{className:"City"},this.state.cityName?r.a.createElement("div",{className:"City__wrapper"},r.a.createElement("div",{className:"City__doubleButton"},r.a.createElement("button",{onClick:this.findCurrentLocation},"Current Location"),r.a.createElement("span",{className:"or"},"or"),r.a.createElement("input",{id:"searchInput",placeholder:"Enter city",type:"text",onChange:this.searchHandler,onFocus:f})),r.a.createElement("div",{className:"City__display"},r.a.createElement("div",{className:"City__display-info"},r.a.createElement("p",null,this.state.cityName,", population of ",this.state.population)),r.a.createElement(b,{key:"weather",cityName:this.state.cityName,weatherStatusDescription:this.state.weatherStatusDescription,weatherId:this.state.weatherId,weatherDate:this.state.weatherDate,weatherTemp:this.state.weatherTemp,weatherMin:this.state.weatherMin,weatherMax:this.state.weatherMax,weatherHumidity:this.state.weatherHumidity,weatherWindSpeed:this.state.weatherWindSpeed,weatherWindDirection:this.state.weatherWindDirection}),this.state.unsplashPics?r.a.createElement(E,{key:"unsplash",pics:this.state.unsplashPics}):r.a.createElement("div",{className:"City__display-noImages"},r.a.createElement("p",null,"No images found for location")))):r.a.createElement("div",{className:"City__wrapper"},r.a.createElement("div",{className:"City__doubleButton"},r.a.createElement("button",{onClick:this.findCurrentLocation},"Current Location"),r.a.createElement("span",{className:"or"},"or"),r.a.createElement("input",{id:"searchInput",placeholder:"Enter city",type:"text",onChange:this.searchHandler,onFocus:f}))))}}]),t}(n.Component),N=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("main",{className:"App__cityWrapper"},r.a.createElement(k,{key:"left"}),r.a.createElement(k,{key:"right"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.b2501be5.chunk.js.map